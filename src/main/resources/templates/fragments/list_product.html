<div
  th:fragment="list_product"
  class="relative overflow-x-auto bg-white shadow-md rounded-lg border border-gray-200"
>
  <div class="p-4 border-b border-gray-200">
    <a
      th:href="@{/}"
      class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-lg inline-block"
      >Create Product</a
    >
  </div>
  <table class="w-full text-sm text-left text-gray-700">
    <thead
      class="text-sm text-gray-700 bg-gray-100 border-b border-gray-200"
    >
      <tr>
        <th scope="col" class="px-6 py-3 font-medium">#</th>
        <th scope="col" class="px-6 py-3 font-medium">Image</th>
        <th scope="col" class="px-6 py-3 font-medium">Name</th>
        <th scope="col" class="px-6 py-3 font-medium">Description</th>
        <th scope="col" class="px-6 py-3 font-medium">Price</th>
        <th scope="col" class="px-6 py-3 font-medium">Created At</th>
        <th scope="col" class="px-6 py-3 font-medium">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr th:if="${products == null || products.isEmpty()}" class="bg-white border-b border-gray-200">
        <td colspan="7" class="px-6 py-4 text-center text-gray-600">No products found. Create your first product!</td>
      </tr>
      <tr th:each="product, iterStat : ${products}" class="bg-white border-b border-gray-200 hover:bg-gray-50">
        <th scope="row" class="px-6 py-4 font-medium text-gray-900" th:text="${iterStat.count}">1</th>
        <td class="px-6 py-4">
          <img th:if="${product.imagePath != null && !product.imagePath.isEmpty()}" 
               th:src="${product.imagePath}" 
               alt="Product image" 
               class="w-16 h-16 object-cover rounded-lg" />
          <span th:if="${product.imagePath == null || product.imagePath.isEmpty()}" class="text-gray-400">No image</span>
        </td>
        <td class="px-6 py-4 text-gray-900 font-medium" th:text="${product.name}">Product Name</td>
        <td class="px-6 py-4 text-gray-700" th:text="${product.description != null ? product.description : 'N/A'}">Description</td>
        <td class="px-6 py-4 text-gray-900 font-semibold" th:text="'$' + ${#numbers.formatDecimal(product.price, 1, 2)}">$0.00</td>
        <td class="px-6 py-4 text-gray-700" th:text="${#temporals.format(product.createdAt, 'MMM dd, yyyy HH:mm')}">Date</td>
        <td class="px-6 py-4">
          <div class="flex gap-2">
            <a th:href="@{/products/{id}/edit(id=${product.id})}" 
               class="text-blue-600 hover:text-blue-800 font-medium">Edit</a>
            <form th:action="@{/products/{id}/delete(id=${product.id})}" method="post" class="inline">
              <button type="submit" 
                      onclick="return confirm('Are you sure you want to delete this product?')"
                      class="text-red-600 hover:text-red-800 font-medium">Delete</button>
            </form>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
